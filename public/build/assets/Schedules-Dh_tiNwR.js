var f=Object.defineProperty;var x=(a,t,e)=>t in a?f(a,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[t]=e;var d=(a,t,e)=>(x(a,typeof t!="symbol"?t+"":t,e),e);import{j as s}from"./StatisticCard-Bdo2C3ON.js";import{r as n}from"./index-DFv2mRv-.js";import{c as b}from"./ReactAppend-CwiwA4iz.js";import{B as u}from"./Base-D2jNg5O4.js";import{C as g}from"./CreateReactScript-yWJ4gJYl.js";import{T as j,R as o}from"./ReactAppend-B_xoNf1Y.js";import{B as R}from"./Content-DtiuTMAn.js";import{D as l}from"./DxButton-CsjWvhyj.js";import{M as S}from"./Modal-C6W508ew.js";import"./index-DgyC5pTR.js";import"./tippy-react.esm-BVvHiWwH.js";/* empty css              */import"./main-BBbUrZUL.js";import"./___vite-browser-external_commonjs-proxy-BQdpDcDf.js";import"./index.esm-B502ZfUP.js";/* empty css               */class N extends R{constructor(){super(...arguments);d(this,"path","coachee/schedules")}}const T=new N,w=()=>{var c,m,p;const a=n.useRef(),t=n.useRef(),[e,h]=n.useState(null);return s.jsxs(s.Fragment,{children:[s.jsx(j,{gridRef:a,title:"Sesiones",rest:T,toolBar:r=>{r.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"Refrescar tabla",onClick:()=>$(a.current).dxDataGrid("instance").refresh()}})},columns:[{dataField:"id",caption:"ID",width:400,cellTemplate:(r,{data:i})=>{r.addClass("text-start"),o(r,s.jsxs(s.Fragment,{children:[s.jsxs("h4",{className:"mt-0 mb-0",children:["Sesión #",String(i.id).padStart(3,"0")]}),s.jsxs("b",{children:["Acuerdo C",String(i.agreement.contract_number).padStart(3,"0")]}),": ",i.agreement.process_topic]}))}},{dataField:"name",caption:"Título",width:80},{dataField:"session_date",caption:"Fecha",dataType:"date",cellTemplate:(r,{data:i})=>{r.text(moment(i.session_date).format("LL"))}},{dataField:"completed",caption:"Estado",dataType:"boolean",cellTemplate:(r,{data:i})=>{i.completed==1?o(r,s.jsx("span",{className:"badge bg-success rounded-pill",children:"Finalizado"})):o(r,s.jsx("span",{className:"badge bg-dark rounded-pill",children:"Pendiente"}))}},{caption:"Acciones",cellTemplate:(r,{data:i})=>{r.css("text-overflow","unset"),r.append(l({className:"btn btn-xs btn-soft-warning",title:"Reporte",icon:"fa fa-clipboard-check",onClick:()=>{h(i),$(t.current).modal("show")}})),r.append(l({className:"btn btn-xs btn-soft-dark",title:"Bitácora",icon:"fa fa-journal-whills",onClick:()=>location.href=`/coachee/payments?agreement=${i.id}`})),r.append(l({className:"btn btn-xs btn-soft-primary",title:"Notas",icon:"fa fa-sticky-note",onClick:()=>location.href=`/coachee/sessions?agreement=${i.id}`}))},allowFiltering:!1,allowExporting:!1}]}),s.jsxs(S,{modalRef:t,title:`REPORTE: Sesión #${String(e==null?void 0:e.id).padStart(3,"0")}`,size:"md",position:"right",children:[s.jsxs("p",{className:"mb-1",children:[s.jsx("b",{children:"Título"}),": ",e==null?void 0:e.name]}),s.jsxs("p",{className:"mb-1",children:[s.jsx("b",{children:"Fecha"}),": ",moment(e==null?void 0:e.session_date).format("LL")," ",(c=e==null?void 0:e.agreement)==null?void 0:c.time]}),s.jsx("hr",{className:"my-2"}),s.jsxs("div",{className:"mb-2",children:[s.jsxs("h4",{className:"mb-1",children:["Acuerdo C",String((m=e==null?void 0:e.agreement)==null?void 0:m.contract_number).padStart(3,"0")]}),s.jsx("b",{children:(p=e==null?void 0:e.agreement)==null?void 0:p.process_topic})]}),s.jsxs("button",{className:"btn btn-sm btn-soft-primary rounded-pill",children:[s.jsx("i",{className:"fa fa-eye me-1"}),"Ver acuerdo"]})]})]})};g((a,t)=>{b(a).render(s.jsx(u,{...t,title:"sesiones",children:s.jsx(w,{...t})}))});
